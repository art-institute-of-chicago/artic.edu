@use "../setup/colors";
@use "../setup/mixins/breakpoint";
@use "../setup/mixins/grid";
@use "../setup/variables";

@use "sass:map";


.o-feature-plus-4 {
  display: flex;
  flex-flow: row wrap;
}

.o-feature-plus-4__feature {
  flex: 0 0 auto;
  width: 100%;

  @include breakpoint.breakpoint('medium+') {
    flex-grow: 1;
    width: grid.colspan(38, medium);
  }

  @include breakpoint.breakpoint('large+') {
    width: grid.colspan(28, large);
  }

  @include breakpoint.breakpoint('xlarge') {
    width: grid.colspan(28, xlarge);
  }
}

.o-feature-plus-4__items-1,
.o-feature-plus-4__items-2 {
  display: flex;
  position: relative;
  flex-flow: row wrap;
  flex: 0 0 auto;
  width: 100%;
}

.o-feature-plus-4__items-1 > *,
.o-feature-plus-4__items-2 > * {
  position: relative;
  flex: 0 0 auto;
  width: 100%;
  margin-top: #{map.get(variables.$grid-margin-tops, xsmall)}px;
  padding-top: #{map.get(variables.$grid-margin-tops, xsmall)}px;
}

.o-feature-plus-4__items-1 > *::before,
.o-feature-plus-4__items-2 > *::before {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  height: 1px;
  background-color: colors.$color__rules--primary;
  pointer-events: none;
}

@include breakpoint.breakpoint('small') {

  .o-feature-plus-4__feature {
    padding-bottom: 32px;
  }

  .o-feature-plus-4__items-1 > *,
  .o-feature-plus-4__items-2 > * {
    width: grid.colspan(28, small);
    margin-top: #{map.get(variables.$grid-margin-tops, small)}px;
    padding-top: grid.colspan(1.5, small);
  }

  .o-feature-plus-4__items-1 > *:not(:first-child),
  .o-feature-plus-4__items-2 > *:not(:first-child) {
    margin-left: grid.colspan(2, small);
  }

  .o-feature-plus-4__items-1 > *:first-child::before,
  .o-feature-plus-4__items-2 > *::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: grid.colspan(58, small, 0);
    height: 1px;
    background-color: colors.$color__rules--primary;
    pointer-events: none;
  }

  .o-feature-plus-4__items-2 > *::before {
    width: auto;
    right: 0;
  }

  .o-feature-plus-4__items-1 > *:first-child::after,
  .o-feature-plus-4__items-2 > *:first-child::after {
    content: '';
    position: absolute;
    right: grid.colspan(1, small, 0, true);
    top: 0;
    bottom: 0;
    width: 1px;
    background-color: colors.$color__rules--primary;
    pointer-events: none;
  }

  .o-feature-plus-4__items-2 > *:first-child::after {
    top: #{map.get(variables.$grid-margin-tops, small) * -1}px;
  }
}


@include breakpoint.breakpoint('medium') {
  .o-feature-plus-4__items-1 > *,
  .o-feature-plus-4__items-2 > * {
    margin-top: #{map.get(variables.$grid-margin-tops, medium)}px;
  }

  .o-feature-plus-4__items-1 {
    width: grid.colspan(18, medium);
    margin-left: grid.colspan(2, medium)
  }

  .o-feature-plus-4__items-1::before {
    content: '';
    position: absolute;
    left: grid.colspan(1, medium, 0, true);
    top: 0;
    bottom: 0;
    width: 1px;
    background-color: colors.$color__rules--primary;
  }

  .o-feature-plus-4__items-1 > *:first-child {
    margin-top: 0;
    padding-top: 0;
  }

  .o-feature-plus-4__items-1 > *:first-child::before {
    content: none;
    display: none;
  }

  .o-feature-plus-4__items-2 {
    width: 100%;
  }

  .o-feature-plus-4__items-2::before,
  .o-feature-plus-4__items-2::after {
    content: '';
    position: absolute;
    left: grid.colspan(19, medium);
    top: #{map.get(variables.$grid-margin-tops, xsmall)}px;
    bottom: 0;
    width: 1px;
    background-color: colors.$color__rules--primary;
  }

  .o-feature-plus-4__items-2::after {
    left: grid.colspan(39, medium);
    top: 0;
  }

  .o-feature-plus-4__items-2 > * {
    width: grid.colspan(18, medium);
  }

  .o-feature-plus-4__items-2 > *:not(:first-child) {
    margin-left: grid.colspan(2, medium)
  }

  .o-feature-plus-4__items-2 > *:first-child::before {
    right: auto;
    width: grid.colspan(38, medium, 0);
  }
}


@include breakpoint.breakpoint('large') {
  .o-feature-plus-4__items-1,
  .o-feature-plus-4__items-2 {
    width: grid.colspan(13, large);
    margin-left: grid.colspan(2, large)
  }

  .o-feature-plus-4__items-1 > *,
  .o-feature-plus-4__items-2 > * {
    margin-top: #{map.get(variables.$grid-margin-tops, large)}px;
  }

  .o-feature-plus-4__items-1 > *:first-child,
  .o-feature-plus-4__items-2 > *:first-child {
    margin-top: 0;
    padding-top: 0;
  }

  .o-feature-plus-4__items-1 > *:first-child::before,
  .o-feature-plus-4__items-2 > *:first-child::before {
    content: none;
    display: none;
  }

  .o-feature-plus-4__items-1::after,
  .o-feature-plus-4__items-2::after {
    content: '';
    position: absolute;
    left: grid.colspan(1, large, 0, true);
    top: 0;
    bottom: 0;
    width: 1px;
    background-color: colors.$color__rules--primary;
    pointer-events: none;
  }
}

@include breakpoint.breakpoint('xlarge') {
  .o-feature-plus-4__items-1,
  .o-feature-plus-4__items-2 {
    width: grid.colspan(13, xlarge);
    margin-left: grid.colspan(2, xlarge)
  }
  .o-feature-plus-4__items-1 > *,
  .o-feature-plus-4__items-2 > * {
    margin-top: #{map.get(variables.$grid-margin-tops, xlarge)}px;
  }

  .o-feature-plus-4__items-1 > *:first-child,
  .o-feature-plus-4__items-2 > *:first-child {
    margin-top: 0;
    padding-top: 0;
  }

  .o-feature-plus-4__items-1 > *:first-child::before,
  .o-feature-plus-4__items-2 > *:first-child::before {
    content: none;
    display: none;
  }

  .o-feature-plus-4__items-1::after,
  .o-feature-plus-4__items-2::after {
    content: '';
    position: absolute;
    left: grid.colspan(1, xlarge, 0, true);
    top: 0;
    bottom: 0;
    width: 1px;
    background-color: colors.$color__rules--primary;
    pointer-events: none;
  }
}

/***

Following a <hr> or <tag class="hr"></tag>

***/

hr + .o-feature-plus-4,
.hr + .o-feature-plus-4 {
  @each $name, $point in variables.$breakpoints {
    @include breakpoint.breakpoint('#{$name}') {
      margin-top: 0;
      padding-top: #{map.get(variables.$grid-margin-tops, $name)}px;
    }
  }

  @include breakpoint.breakpoint('medium') {
    .o-feature-plus-4__items-1::before {
      top: #{map.get(variables.$grid-margin-tops, 'medium') * -1}px;
    }
  }

  @include breakpoint.breakpoint('large') {
    .o-feature-plus-4__items-1::after,
    .o-feature-plus-4__items-2::after {
      top: #{map.get(variables.$grid-margin-tops, 'large') * -1}px;
    }
  }

  @include breakpoint.breakpoint('xlarge') {
    .o-feature-plus-4__items-1::after,
    .o-feature-plus-4__items-2::after {
      top: #{map.get(variables.$grid-margin-tops, 'xlarge') * -1}px;
    }
  }
}
