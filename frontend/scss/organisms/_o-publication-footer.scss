@use "../setup/mixins/breakpoint";
@use "../setup/mixins/grid";
@use "../setup/variables";

@use "sass:map";
// Derived from _m-split-block, used for journal and magazine
.o-publication-footer {
  display: flex;
  flex-flow: row wrap;
  align-items: center;

  @include breakpoint.breakpoint('small+') {
    flex-flow: row nowrap;
  }

  @each $name, $point in variables.$breakpoints {
    @include breakpoint.breakpoint('#{$name}') {
      margin-top: #{map.get((
        xsmall: 24,
        small: 36,
        medium: 36,
        large: 40,
        xlarge: 40
      ), $name)}px;
    }
  }

  @include breakpoint.breakpoint('small+') {
    flex-flow: row nowrap;
  }

  .o-publication-footer__text {
    flex-basis: 100%;

    p:before, p:after {
      content: initial !important;
    }

    a {
      text-decoration: underline;
    }
  }

  + .m-aside-newsletter {
    margin-top: 36px;
  }
}

.o-publication-footer--journal {
  .o-publication-footer__logo {
    @each $name, $point in variables.$breakpoints {
      @include breakpoint.breakpoint('#{$name}') {
        margin-right: grid.colspan(2, '#{$name}');
      }
    }

    @include breakpoint.breakpoint('xsmall') {
      margin-bottom: 24px;
    }

    .icon--journal-logo {
      height: 92px;
      width: 120px;
    }
  }
}

.o-publication-footer--magazine {
  .o-publication-footer__logo {
    @each $name, $point in variables.$breakpoints {
      @include breakpoint.breakpoint('#{$name}') {
        margin-right: grid.colspan(4, '#{$name}');
      }
    }

    @include breakpoint.breakpoint('xsmall') {
      display: none;
    }

    .icon--magazine-logo {
      //
    }
  }
}
